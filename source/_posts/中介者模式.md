---
title: 中介者模式
date: 2018-02-06 17:23:36
tags:
- 中介者
categories: 设计模式
---
中介者模式是用来处理对象之间多对多相互关系导致业务复杂问题的模式，把对象之间的关系由网状结构转为了星型结构。
![网状结构](http://img.my.csdn.net/uploads/201301/08/1357651860_8819.jpg)
![星型结构](http://img.my.csdn.net/uploads/201301/08/1357651865_7741.jpg)
# 结构分析
![设计图](http://img.my.csdn.net/uploads/201301/08/1357652403_1841.jpg)
Mediator：中介者抽象类
ConcreteMediator: 具体中介者类
Component: 组件抽象类
Button, TextBox, List, ComboBox: 具体组件类
每个组件类持有一个中介者对象，而这个中介者持有所有关联的组件对象。当对具体组件类进行操作的时候，组件方法内部调用中介者的方法，中介者来处理各个关联对象一系列的变动。

# 主要优点
1. 简化了对象之间的交互，中介者的一对多代替了原来对象之间的多对多关联，更容易理解。
2. 业务在中介者内高内聚，非常便于编写和理解。
3. 便于扩展，由于中介者持有所有关联对象，编写新的业务更加方便，而且也方便继承，灵活性大大增强。

# 主要缺点
1. 具体中介者承担了大量的业务代码，导致中介者非常复杂，不好维护。

# 适用场景
1. 适用于组件对象之间多对多的关系，一个对象状态的变化会联动到其他对象的行为。比较典型的比如CRM关系，一个客户的删除或者修改，影响到列表，公海，乃至部门等的变化。