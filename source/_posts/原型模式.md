---
title: 原型模式
date: 2018-01-12 17:40:14
tags:
- 原型模式
categories: 设计模式
---
# 结构分析
![设计原图](http://my.csdn.net/uploads/201204/03/1333465614_7325.gif)
PrototypeManager原型管理器（懒汉式单例模式），负责维护一个map集合，存储常用的各种模版。从Manager中获取模版时，直接clone一次，返回一个新的对象回去，不影响原map中模版。

# 主要优点
1.减少相似对象的创建过程，提高创建效率。
2.如果提供了抽象原型类，则扩展性非常好，增添新的模型非常简单，符合开闭原则。
3.深克隆的方式可以保存对象的状态，以便在需要的时刻系统恢复，辅助实现撤销操作。

# 主要缺点
1.需要为每个类配置克隆方法。
2.深克隆时，对象之间存在多重嵌套引用时，每一层都必须支持深克隆，实现起来比较麻烦。

# 适用场景
1.创建新对象成本较大，而且新对象之间相似，只需要对其稍作修改。
2.可以保存对象的当时状态。