---
title: 解释器模式
date: 2018-02-05 15:44:18
tags:
- 解释器
categories: 设计模式
---
解释器模式为自定义语言的设计和实现提供了一种解决方案，即定义一组文法规则，并通过这个规则解释语言句。在正则表达式，XML文档解释领域应用比较多。
# 结构分析
![结构图](http://my.csdn.net/uploads/201207/04/1341331467_7271.jpg)
![demo1结构图](http://my.csdn.net/uploads/201207/04/1341331826_7970.jpg)
![demo2结构图](http://my.csdn.net/uploads/201207/04/1341332238_7715.jpg)
Context: 上下文对象，用来存储一些全局信息，通常会被当作参数传递到所有表达式的解释方法中。
AbstractExpression: 抽象表达式类，声明了解释操作。
TerminalExpression: 终结符表达式，是最小最基本的语言单位，不能再进行分解，不参与流程控制等工作。
NonterminalExpression: 非终结符表达式类，可以包含终结符表达式，也可以包含非终结符表达式，因此解释操作一般通过递归来完成。它主要用来处理连接各个表达式的关系。

# 主要优点
1. 易于扩展语法，只需新的新的终结符表达式或者非终结符表达式即可。

# 主要缺点
1. 对于复杂的文法难以维护，如果要修改已有的语法逻辑，非常麻烦。
2. 执行效率低，在解释器模式中使用了大量的循环递归，速度慢，调试麻烦。

# 适用场景
1. 需要讲一个语句表示为一个抽象语法树
2. 语法较为简单
3. 执行效率不关键