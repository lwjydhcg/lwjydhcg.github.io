---
title: 装饰模式
date: 2018-01-22 16:48:38
tags: -装饰模式
categories: 设计模式
---

# 结构分析
![设计图](http://my.csdn.net/uploads/201204/04/1333528353_8435.gif)
Component组件：构件类和装饰类的共同抽象接口。
Window、TesxtBox、ListBox: 具体构件类。
ComponentDecorator: 抽象装饰类，维护一个component组件对象（构件类和装饰类都有可能）。
ScrollBarDecorator、BlackBorderDecorator: 具体装饰类。
装饰者实现Component接口的方法，并保持了一个被装饰者对象。在接口的方法中，调用被装饰者对象的实现方法，并在调用前后加入额外的逻辑，从而实现装饰的作用。

# 主要优点
1. 避免同一种变化通过继承的方式加在所有具体构件类上，减少了类的数量，系统也更加灵活。
2. 可以多次装饰来达到复杂的处理，这是继承难以达到的效果。
3. 增加新的具体构件类和具体装饰类与原系统集成都非常方便。

# 主要缺点
1. 理解困难，更需要有经验者来对业务进行抽象设计。用不好就是累赘。
2. 更加灵活的同时也意味着更容易出错，并且这种模式不好排错，多层装饰的情况下，很难查出到底是哪一层干扰。
3. 这种设计会导致小对象非常多，对系统资源和性能也有一定影响。

# 适用场景
1. 当有多个扩展对同一批组件增强处理时。
2. 当系统中存在大量独立的扩展，扩展之间的组合使用继承导致大量的子类，或者类已经被定义为final时。

### 装饰模式与桥接模式的区别：
1. 装饰模式的装饰者是增强功能的，而桥接模式是必要的不可缺的。
2. 装饰模式是装饰者维护一个对象，桥接模式是主维度维护其他维度的对象，主次相反。
3. 装饰模式装饰者和被装饰者实现同一接口，桥接模式的桥接者独自一个继承体系。 